<p style="font-size:14pt;font-family:sans-serif"><strong>.\A2_Comp_Project\app\src\main\java\com\example\natha_000\a2_comp_project\Graphing_Stats\StatsDataTable.java</strong></p><div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">package</span> <span style="color: #0000FF; font-weight: bold">com.example.natha_000.a2_comp_project.Graphing_Stats</span><span style="color: #666666">;</span>

<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.app.Fragment</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.content.Context</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.os.Bundle</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.text.InputType</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.text.method.DigitsKeyListener</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.util.Log</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.view.Gravity</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.view.LayoutInflater</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.view.View</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.view.ViewGroup</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.widget.Button</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.widget.EditText</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.widget.TableLayout</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.widget.TableRow</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.widget.Toast</span><span style="color: #666666">;</span>

<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">com.example.natha_000.a2_comp_project.R</span><span style="color: #666666">;</span>

<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">java.io.File</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">java.io.FileWriter</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">java.util.ArrayList</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">java.util.List</span><span style="color: #666666">;</span>


<span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">StatsDataTable</span> <span style="color: #008000; font-weight: bold">extends</span> Fragment <span style="color: #666666">{</span>
    <span style="color: #008000; font-weight: bold">private</span> <span style="color: #008000; font-weight: bold">static</span> List<span style="color: #666666">&lt;</span>EditText<span style="color: #666666">[]&gt;</span> etList <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> ArrayList<span style="color: #666666">&lt;</span>EditText<span style="color: #666666">[]&gt;();</span>

    <span style="color: #008000; font-weight: bold">private</span> <span style="color: #008000; font-weight: bold">static</span> TableLayout tl<span style="color: #666666">;</span>

    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #0000FF">StatsDataTable</span><span style="color: #666666">()</span> <span style="color: #666666">{</span>
        <span style="color: #408080; font-style: italic">// Required empty public constructor</span>
    <span style="color: #666666">}</span>


    <span style="color: #AA22FF">@Override</span>
    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">onCreate</span><span style="color: #666666">(</span>Bundle savedInstanceState<span style="color: #666666">)</span> <span style="color: #666666">{</span>
        <span style="color: #008000; font-weight: bold">super</span><span style="color: #666666">.</span><span style="color: #7D9029">onCreate</span><span style="color: #666666">(</span>savedInstanceState<span style="color: #666666">);</span>
    <span style="color: #666666">}</span>

    <span style="color: #AA22FF">@Override</span>
    <span style="color: #008000; font-weight: bold">public</span> View <span style="color: #0000FF">onCreateView</span><span style="color: #666666">(</span>LayoutInflater inflater<span style="color: #666666">,</span> ViewGroup container<span style="color: #666666">,</span>
                             Bundle savedInstanceState<span style="color: #666666">)</span> <span style="color: #666666">{</span>
        <span style="color: #408080; font-style: italic">// Inflate the layout for this fragment</span>
        View view <span style="color: #666666">=</span> inflater<span style="color: #666666">.</span><span style="color: #7D9029">inflate</span><span style="color: #666666">(</span>R<span style="color: #666666">.</span><span style="color: #7D9029">layout</span><span style="color: #666666">.</span><span style="color: #7D9029">fragment_stats_data_table</span><span style="color: #666666">,</span> container<span style="color: #666666">,</span> <span style="color: #008000; font-weight: bold">false</span><span style="color: #666666">);</span>
        tl <span style="color: #666666">=</span> <span style="color: #666666">(</span>TableLayout<span style="color: #666666">)</span> view<span style="color: #666666">.</span><span style="color: #7D9029">findViewById</span><span style="color: #666666">(</span>R<span style="color: #666666">.</span><span style="color: #7D9029">id</span><span style="color: #666666">.</span><span style="color: #7D9029">tl2</span><span style="color: #666666">);</span>
        Button b11 <span style="color: #666666">=</span> <span style="color: #666666">(</span>Button<span style="color: #666666">)</span> view<span style="color: #666666">.</span><span style="color: #7D9029">findViewById</span><span style="color: #666666">(</span>R<span style="color: #666666">.</span><span style="color: #7D9029">id</span><span style="color: #666666">.</span><span style="color: #7D9029">button11</span><span style="color: #666666">);</span>
        EditText<span style="color: #666666">[]</span> etArray <span style="color: #666666">=</span> <span style="color: #666666">{(</span>EditText<span style="color: #666666">)</span> view<span style="color: #666666">.</span><span style="color: #7D9029">findViewById</span><span style="color: #666666">(</span>R<span style="color: #666666">.</span><span style="color: #7D9029">id</span><span style="color: #666666">.</span><span style="color: #7D9029">editText</span><span style="color: #666666">),(</span>EditText<span style="color: #666666">)</span> view<span style="color: #666666">.</span><span style="color: #7D9029">findViewById</span><span style="color: #666666">(</span>R<span style="color: #666666">.</span><span style="color: #7D9029">id</span><span style="color: #666666">.</span><span style="color: #7D9029">editText2</span><span style="color: #666666">),(</span>EditText<span style="color: #666666">)</span> view<span style="color: #666666">.</span><span style="color: #7D9029">findViewById</span><span style="color: #666666">(</span>R<span style="color: #666666">.</span><span style="color: #7D9029">id</span><span style="color: #666666">.</span><span style="color: #7D9029">editText3</span><span style="color: #666666">)};</span>
        etList<span style="color: #666666">.</span><span style="color: #7D9029">add</span><span style="color: #666666">(</span>etArray<span style="color: #666666">);</span>
        b11<span style="color: #666666">.</span><span style="color: #7D9029">setOnClickListener</span><span style="color: #666666">(</span><span style="color: #008000; font-weight: bold">new</span> View<span style="color: #666666">.</span><span style="color: #7D9029">OnClickListener</span><span style="color: #666666">()</span>
        <span style="color: #666666">{</span>
            <span style="color: #AA22FF">@Override</span>
            <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">onClick</span><span style="color: #666666">(</span>View v<span style="color: #666666">)</span>
            <span style="color: #666666">{</span>
                add_row<span style="color: #666666">(</span>v<span style="color: #666666">);</span>
            <span style="color: #666666">}</span>
        <span style="color: #666666">});</span>
        Button b12 <span style="color: #666666">=</span> <span style="color: #666666">(</span>Button<span style="color: #666666">)</span> view<span style="color: #666666">.</span><span style="color: #7D9029">findViewById</span><span style="color: #666666">(</span>R<span style="color: #666666">.</span><span style="color: #7D9029">id</span><span style="color: #666666">.</span><span style="color: #7D9029">button12</span><span style="color: #666666">);</span>
        b12<span style="color: #666666">.</span><span style="color: #7D9029">setOnClickListener</span><span style="color: #666666">(</span><span style="color: #008000; font-weight: bold">new</span> View<span style="color: #666666">.</span><span style="color: #7D9029">OnClickListener</span><span style="color: #666666">()</span>
        <span style="color: #666666">{</span>
            <span style="color: #AA22FF">@Override</span>
            <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">onClick</span><span style="color: #666666">(</span>View v<span style="color: #666666">)</span>
            <span style="color: #666666">{</span>
                clear_all<span style="color: #666666">(</span>v<span style="color: #666666">);</span>
            <span style="color: #666666">}</span>
        <span style="color: #666666">});</span>
        <span style="color: #008000; font-weight: bold">return</span> view<span style="color: #666666">;</span>
    <span style="color: #666666">}</span>

    <span style="color: #AA22FF">@Override</span>
    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">onAttach</span><span style="color: #666666">(</span>Context context<span style="color: #666666">)</span> <span style="color: #666666">{</span>
        <span style="color: #008000; font-weight: bold">super</span><span style="color: #666666">.</span><span style="color: #7D9029">onAttach</span><span style="color: #666666">(</span>context<span style="color: #666666">);</span>
    <span style="color: #666666">}</span>

    <span style="color: #AA22FF">@Override</span>
    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">onDetach</span><span style="color: #666666">()</span> <span style="color: #666666">{</span>
        <span style="color: #008000; font-weight: bold">super</span><span style="color: #666666">.</span><span style="color: #7D9029">onDetach</span><span style="color: #666666">();</span>
    <span style="color: #666666">}</span>

    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">delete_row</span><span style="color: #666666">(</span>View view<span style="color: #666666">)</span> <span style="color: #666666">{</span>
        TableRow parent <span style="color: #666666">=</span> <span style="color: #666666">(</span>TableRow<span style="color: #666666">)</span> view<span style="color: #666666">.</span><span style="color: #7D9029">getParent</span><span style="color: #666666">();</span>
        EditText lb <span style="color: #666666">=</span> <span style="color: #666666">(</span>EditText<span style="color: #666666">)</span> parent<span style="color: #666666">.</span><span style="color: #7D9029">getChildAt</span><span style="color: #666666">(0);</span>
        EditText ub <span style="color: #666666">=</span> <span style="color: #666666">(</span>EditText<span style="color: #666666">)</span> parent<span style="color: #666666">.</span><span style="color: #7D9029">getChildAt</span><span style="color: #666666">(1);</span>
        EditText freq <span style="color: #666666">=</span> <span style="color: #666666">(</span>EditText<span style="color: #666666">)</span> parent<span style="color: #666666">.</span><span style="color: #7D9029">getChildAt</span><span style="color: #666666">(2);</span>
        Log<span style="color: #666666">.</span><span style="color: #7D9029">i</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Project: Delete row&quot;</span><span style="color: #666666">,</span>lb<span style="color: #666666">.</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">());</span>
        Log<span style="color: #666666">.</span><span style="color: #7D9029">i</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Project: Delete row&quot;</span><span style="color: #666666">,</span>ub<span style="color: #666666">.</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">());</span>
        Log<span style="color: #666666">.</span><span style="color: #7D9029">i</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Project: Delete row&quot;</span><span style="color: #666666">,</span>freq<span style="color: #666666">.</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">());</span>
        <span style="color: #008000; font-weight: bold">try</span> <span style="color: #666666">{</span>
            StatsClasses relClass <span style="color: #666666">=</span> StatsClasses<span style="color: #666666">.</span><span style="color: #7D9029">getClassByLb</span><span style="color: #666666">(</span>Integer<span style="color: #666666">.</span><span style="color: #7D9029">parseInt</span><span style="color: #666666">(</span>lb<span style="color: #666666">.</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">()));</span>
            relClass<span style="color: #666666">.</span><span style="color: #7D9029">delete</span><span style="color: #666666">();</span>
        <span style="color: #666666">}</span> <span style="color: #008000; font-weight: bold">catch</span> <span style="color: #666666">(</span>Exception e<span style="color: #666666">)</span> <span style="color: #666666">{}</span>
        <span style="color: #008000; font-weight: bold">for</span> <span style="color: #666666">(</span><span style="color: #B00040">int</span> i <span style="color: #666666">=</span> etList<span style="color: #666666">.</span><span style="color: #7D9029">size</span><span style="color: #666666">()-1;</span> i<span style="color: #666666">&gt;=</span> <span style="color: #666666">0;</span> i<span style="color: #666666">--)</span> <span style="color: #666666">{</span>
            <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>lb <span style="color: #666666">==</span> etList<span style="color: #666666">.</span><span style="color: #7D9029">get</span><span style="color: #666666">(</span>i<span style="color: #666666">)[0])</span> <span style="color: #666666">{</span>
                etList<span style="color: #666666">.</span><span style="color: #7D9029">remove</span><span style="color: #666666">(</span>i<span style="color: #666666">);</span>
            <span style="color: #666666">}</span>
        <span style="color: #666666">}</span>
        parent<span style="color: #666666">.</span><span style="color: #7D9029">setVisibility</span><span style="color: #666666">(</span>View<span style="color: #666666">.</span><span style="color: #7D9029">GONE</span><span style="color: #666666">);</span>
    <span style="color: #666666">}</span>

    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">clear_all</span><span style="color: #666666">(</span>View view<span style="color: #666666">)</span> <span style="color: #666666">{</span>
        <span style="color: #008000; font-weight: bold">for</span> <span style="color: #666666">(</span><span style="color: #B00040">int</span> i<span style="color: #666666">=</span>etList<span style="color: #666666">.</span><span style="color: #7D9029">size</span><span style="color: #666666">()-1;</span> i<span style="color: #666666">&gt;=1;</span> i<span style="color: #666666">--)</span> <span style="color: #666666">{</span>
            delete_row<span style="color: #666666">(</span>etList<span style="color: #666666">.</span><span style="color: #7D9029">get</span><span style="color: #666666">(</span>i<span style="color: #666666">)[0]);</span>
        <span style="color: #666666">}</span>
    <span style="color: #666666">}</span>

    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">add_row</span><span style="color: #666666">(</span>View view<span style="color: #666666">){</span>
        EditText<span style="color: #666666">[]</span> lastItem <span style="color: #666666">=</span> etList<span style="color: #666666">.</span><span style="color: #7D9029">get</span><span style="color: #666666">(</span>etList<span style="color: #666666">.</span><span style="color: #7D9029">size</span><span style="color: #666666">()-1);</span>
        Log<span style="color: #666666">.</span><span style="color: #7D9029">i</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Project: add_Row&quot;</span><span style="color: #666666">,</span><span style="color: #BA2121">&quot;This is the first item &#39;&quot;</span> <span style="color: #666666">+</span> lastItem<span style="color: #666666">[0].</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">()+</span><span style="color: #BA2121">&quot;&#39;&quot;</span><span style="color: #666666">)</span> <span style="color: #666666">;</span>
        Log<span style="color: #666666">.</span><span style="color: #7D9029">i</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Project: add_Row&quot;</span><span style="color: #666666">,</span><span style="color: #BA2121">&quot;This is the second item &#39;&quot;</span> <span style="color: #666666">+</span> lastItem<span style="color: #666666">[1].</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">()+</span><span style="color: #BA2121">&quot;&#39;&quot;</span><span style="color: #666666">);</span>
        Log<span style="color: #666666">.</span><span style="color: #7D9029">i</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Project: add_Row&quot;</span><span style="color: #666666">,</span><span style="color: #BA2121">&quot;This is the third item &#39;&quot;</span> <span style="color: #666666">+</span> lastItem<span style="color: #666666">[2].</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">()+</span><span style="color: #BA2121">&quot;&#39;&quot;</span><span style="color: #666666">);</span>
        <span style="color: #B00040">boolean</span> isEmpty <span style="color: #666666">=</span> lastItem<span style="color: #666666">[0].</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">().</span><span style="color: #7D9029">equals</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;&quot;</span><span style="color: #666666">)</span> <span style="color: #666666">||</span> lastItem<span style="color: #666666">[1].</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">().</span><span style="color: #7D9029">equals</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;&quot;</span><span style="color: #666666">)</span> <span style="color: #666666">||</span> lastItem<span style="color: #666666">[2].</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">().</span><span style="color: #7D9029">equals</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;&quot;</span><span style="color: #666666">);</span>
        Log<span style="color: #666666">.</span><span style="color: #7D9029">i</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Project: add_Row&quot;</span><span style="color: #666666">,</span>Boolean<span style="color: #666666">.</span><span style="color: #7D9029">toString</span><span style="color: #666666">(</span>isEmpty<span style="color: #666666">));</span>
        <span style="color: #008000; font-weight: bold">if</span><span style="color: #666666">(</span>isEmpty<span style="color: #666666">)</span> <span style="color: #666666">{</span>
            Toast<span style="color: #666666">.</span><span style="color: #7D9029">makeText</span><span style="color: #666666">((</span>Context<span style="color: #666666">)</span> getActivity<span style="color: #666666">(),</span><span style="color: #BA2121">&quot;Please enter valid data&quot;</span><span style="color: #666666">,</span> Toast<span style="color: #666666">.</span><span style="color: #7D9029">LENGTH_SHORT</span><span style="color: #666666">).</span><span style="color: #7D9029">show</span><span style="color: #666666">();</span>
        <span style="color: #666666">}</span> <span style="color: #008000; font-weight: bold">else</span> <span style="color: #666666">{</span>
            <span style="color: #B00040">boolean</span> validLb <span style="color: #666666">=</span> StatsClasses<span style="color: #666666">.</span><span style="color: #7D9029">validBound</span><span style="color: #666666">(</span>Float<span style="color: #666666">.</span><span style="color: #7D9029">parseFloat</span><span style="color: #666666">(</span>lastItem<span style="color: #666666">[0].</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">()));</span>
            <span style="color: #B00040">boolean</span> validUb <span style="color: #666666">=</span> StatsClasses<span style="color: #666666">.</span><span style="color: #7D9029">validBound</span><span style="color: #666666">(</span>Float<span style="color: #666666">.</span><span style="color: #7D9029">parseFloat</span><span style="color: #666666">(</span>lastItem<span style="color: #666666">[1].</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">()));</span>
            <span style="color: #B00040">boolean</span> validBounds <span style="color: #666666">=</span> StatsClasses<span style="color: #666666">.</span><span style="color: #7D9029">validBounds</span><span style="color: #666666">(</span>Float<span style="color: #666666">.</span><span style="color: #7D9029">parseFloat</span><span style="color: #666666">(</span>lastItem<span style="color: #666666">[0].</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">()),</span> Float<span style="color: #666666">.</span><span style="color: #7D9029">parseFloat</span><span style="color: #666666">(</span>lastItem<span style="color: #666666">[1].</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">()));</span>
            <span style="color: #B00040">boolean</span> validFreq <span style="color: #666666">=</span> Integer<span style="color: #666666">.</span><span style="color: #7D9029">parseInt</span><span style="color: #666666">(</span>lastItem<span style="color: #666666">[2].</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">())</span> <span style="color: #666666">!=</span> <span style="color: #666666">0;</span>
            <span style="color: #B00040">boolean</span> invalid <span style="color: #666666">=</span> <span style="color: #666666">!(</span>validLb <span style="color: #666666">&amp;&amp;</span> validUb <span style="color: #666666">&amp;&amp;</span> validBounds <span style="color: #666666">&amp;&amp;</span> validFreq<span style="color: #666666">);</span>
            Log<span style="color: #666666">.</span><span style="color: #7D9029">i</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Project: add_Row&quot;</span><span style="color: #666666">,</span><span style="color: #BA2121">&quot;ValidLb: &quot;</span><span style="color: #666666">+</span>Boolean<span style="color: #666666">.</span><span style="color: #7D9029">toString</span><span style="color: #666666">(</span>validLb<span style="color: #666666">));</span>
            Log<span style="color: #666666">.</span><span style="color: #7D9029">i</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Project: add_Row&quot;</span><span style="color: #666666">,</span><span style="color: #BA2121">&quot;ValidUb: &quot;</span><span style="color: #666666">+</span>Boolean<span style="color: #666666">.</span><span style="color: #7D9029">toString</span><span style="color: #666666">(</span>validUb<span style="color: #666666">));</span>
            Log<span style="color: #666666">.</span><span style="color: #7D9029">i</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Project: add_Row&quot;</span><span style="color: #666666">,</span><span style="color: #BA2121">&quot;ValidBounds: &quot;</span><span style="color: #666666">+</span>Boolean<span style="color: #666666">.</span><span style="color: #7D9029">toString</span><span style="color: #666666">(</span>validBounds<span style="color: #666666">));</span>
            Log<span style="color: #666666">.</span><span style="color: #7D9029">i</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Project: add_Row&quot;</span><span style="color: #666666">,</span><span style="color: #BA2121">&quot;ValidFreq: &quot;</span><span style="color: #666666">+</span>Boolean<span style="color: #666666">.</span><span style="color: #7D9029">toString</span><span style="color: #666666">(</span>validFreq<span style="color: #666666">));</span>
            Log<span style="color: #666666">.</span><span style="color: #7D9029">i</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Project: add_Row&quot;</span><span style="color: #666666">,</span><span style="color: #BA2121">&quot;invalid: &quot;</span><span style="color: #666666">+</span>Boolean<span style="color: #666666">.</span><span style="color: #7D9029">toString</span><span style="color: #666666">(</span>invalid<span style="color: #666666">));</span>
            <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>invalid<span style="color: #666666">)</span> <span style="color: #666666">{</span>
                Toast<span style="color: #666666">.</span><span style="color: #7D9029">makeText</span><span style="color: #666666">((</span>Context<span style="color: #666666">)</span> getActivity<span style="color: #666666">(),</span><span style="color: #BA2121">&quot;Please enter valid data&quot;</span><span style="color: #666666">,</span> Toast<span style="color: #666666">.</span><span style="color: #7D9029">LENGTH_SHORT</span><span style="color: #666666">).</span><span style="color: #7D9029">show</span><span style="color: #666666">();</span>
                <span style="color: #008000; font-weight: bold">return</span><span style="color: #666666">;</span>
            <span style="color: #666666">}</span>

            <span style="color: #B00040">float</span> lowerbound <span style="color: #666666">=</span> Float<span style="color: #666666">.</span><span style="color: #7D9029">parseFloat</span><span style="color: #666666">(</span>lastItem<span style="color: #666666">[0].</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">());</span>
            <span style="color: #B00040">float</span> upperbound <span style="color: #666666">=</span> Float<span style="color: #666666">.</span><span style="color: #7D9029">parseFloat</span><span style="color: #666666">(</span>lastItem<span style="color: #666666">[1].</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">());</span>
            <span style="color: #B00040">int</span> frequency <span style="color: #666666">=</span> Integer<span style="color: #666666">.</span><span style="color: #7D9029">parseInt</span><span style="color: #666666">(</span>lastItem<span style="color: #666666">[2].</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">());</span>
            <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>StatsClasses<span style="color: #666666">.</span><span style="color: #7D9029">getClassByLb</span><span style="color: #666666">(</span>lowerbound<span style="color: #666666">)</span> <span style="color: #666666">==</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">)</span> <span style="color: #666666">{</span>
                <span style="color: #008000; font-weight: bold">new</span> StatsClasses<span style="color: #666666">(</span>lowerbound<span style="color: #666666">,</span> upperbound<span style="color: #666666">,</span> frequency<span style="color: #666666">);</span>
            <span style="color: #666666">}</span>



            TableRow tr <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> TableRow<span style="color: #666666">(</span>getActivity<span style="color: #666666">());</span>
            tr<span style="color: #666666">.</span><span style="color: #7D9029">setLayoutParams</span><span style="color: #666666">(</span><span style="color: #008000; font-weight: bold">new</span> TableRow<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span><span style="color: #666666">(</span>TableRow<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span><span style="color: #666666">.</span><span style="color: #7D9029">MATCH_PARENT</span><span style="color: #666666">,</span> TableRow<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span><span style="color: #666666">.</span><span style="color: #7D9029">WRAP_CONTENT</span><span style="color: #666666">));</span>

            EditText lb <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> EditText<span style="color: #666666">(</span>getActivity<span style="color: #666666">());</span>
            lb<span style="color: #666666">.</span><span style="color: #7D9029">setKeyListener</span><span style="color: #666666">(</span>DigitsKeyListener<span style="color: #666666">.</span><span style="color: #7D9029">getInstance</span><span style="color: #666666">(</span><span style="color: #008000; font-weight: bold">false</span><span style="color: #666666">,</span><span style="color: #008000; font-weight: bold">true</span><span style="color: #666666">));</span>
            lb<span style="color: #666666">.</span><span style="color: #7D9029">setId</span><span style="color: #666666">(</span>View<span style="color: #666666">.</span><span style="color: #7D9029">generateViewId</span><span style="color: #666666">());</span>
<span style="color: #408080; font-style: italic">//            lb.setInputType(InputType.TYPE_CLASS_NUMBER);</span>
            TableRow<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span> lbparams <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> TableRow<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span><span style="color: #666666">(0,</span> TableRow<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span><span style="color: #666666">.</span><span style="color: #7D9029">FILL_PARENT</span><span style="color: #666666">,</span> <span style="color: #666666">1f);</span>

            tr<span style="color: #666666">.</span><span style="color: #7D9029">addView</span><span style="color: #666666">(</span>lb<span style="color: #666666">,</span> lbparams<span style="color: #666666">);</span>

            EditText ub <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> EditText<span style="color: #666666">(</span>getActivity<span style="color: #666666">());</span>
            ub<span style="color: #666666">.</span><span style="color: #7D9029">setKeyListener</span><span style="color: #666666">(</span>DigitsKeyListener<span style="color: #666666">.</span><span style="color: #7D9029">getInstance</span><span style="color: #666666">(</span><span style="color: #008000; font-weight: bold">false</span><span style="color: #666666">,</span><span style="color: #008000; font-weight: bold">true</span><span style="color: #666666">));</span>
            ub<span style="color: #666666">.</span><span style="color: #7D9029">setId</span><span style="color: #666666">(</span>View<span style="color: #666666">.</span><span style="color: #7D9029">generateViewId</span><span style="color: #666666">());</span>
<span style="color: #408080; font-style: italic">//            ub.setInputType(InputType.TYPE_CLASS_NUMBER);</span>
            TableRow<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span> ubparams <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> TableRow<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span><span style="color: #666666">(0,</span> TableRow<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span><span style="color: #666666">.</span><span style="color: #7D9029">FILL_PARENT</span><span style="color: #666666">,</span> <span style="color: #666666">1f);</span>

            tr<span style="color: #666666">.</span><span style="color: #7D9029">addView</span><span style="color: #666666">(</span>ub<span style="color: #666666">,</span> ubparams<span style="color: #666666">);</span>

            EditText freq <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> EditText<span style="color: #666666">(</span>getActivity<span style="color: #666666">());</span>
            freq<span style="color: #666666">.</span><span style="color: #7D9029">setId</span><span style="color: #666666">(</span>View<span style="color: #666666">.</span><span style="color: #7D9029">generateViewId</span><span style="color: #666666">());</span>
            freq<span style="color: #666666">.</span><span style="color: #7D9029">setInputType</span><span style="color: #666666">(</span>InputType<span style="color: #666666">.</span><span style="color: #7D9029">TYPE_CLASS_NUMBER</span><span style="color: #666666">);</span>
            TableRow<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span> freqparams <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> TableRow<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span><span style="color: #666666">(0,</span> TableRow<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span><span style="color: #666666">.</span><span style="color: #7D9029">FILL_PARENT</span><span style="color: #666666">,</span> <span style="color: #666666">1f);</span>

            tr<span style="color: #666666">.</span><span style="color: #7D9029">addView</span><span style="color: #666666">(</span>freq<span style="color: #666666">,</span> freqparams<span style="color: #666666">);</span>

            Button btn <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> Button<span style="color: #666666">(</span>getActivity<span style="color: #666666">());</span>
            btn<span style="color: #666666">.</span><span style="color: #7D9029">setText</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Delete?&quot;</span><span style="color: #666666">);</span>
            btn<span style="color: #666666">.</span><span style="color: #7D9029">setGravity</span><span style="color: #666666">(</span>Gravity<span style="color: #666666">.</span><span style="color: #7D9029">CENTER</span><span style="color: #666666">);</span>
            TableRow<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span> btnparams <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> TableRow<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span><span style="color: #666666">(0,</span> TableRow<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span><span style="color: #666666">.</span><span style="color: #7D9029">FILL_PARENT</span><span style="color: #666666">,</span> <span style="color: #666666">1f);</span>

            btn<span style="color: #666666">.</span><span style="color: #7D9029">setOnClickListener</span><span style="color: #666666">(</span><span style="color: #008000; font-weight: bold">new</span> View<span style="color: #666666">.</span><span style="color: #7D9029">OnClickListener</span><span style="color: #666666">()</span>
            <span style="color: #666666">{</span>
                <span style="color: #AA22FF">@Override</span>
                <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">onClick</span><span style="color: #666666">(</span>View v<span style="color: #666666">)</span>
                <span style="color: #666666">{</span>
                    delete_row<span style="color: #666666">(</span>v<span style="color: #666666">);</span>
                <span style="color: #666666">}</span>
            <span style="color: #666666">});</span>

            tr<span style="color: #666666">.</span><span style="color: #7D9029">addView</span><span style="color: #666666">(</span>btn<span style="color: #666666">,</span> btnparams<span style="color: #666666">);</span>

            tl<span style="color: #666666">.</span><span style="color: #7D9029">addView</span><span style="color: #666666">(</span>tr<span style="color: #666666">,</span> <span style="color: #008000; font-weight: bold">new</span> TableLayout<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span><span style="color: #666666">(</span>TableLayout<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span><span style="color: #666666">.</span><span style="color: #7D9029">FILL_PARENT</span><span style="color: #666666">,</span> TableLayout<span style="color: #666666">.</span><span style="color: #7D9029">LayoutParams</span><span style="color: #666666">.</span><span style="color: #7D9029">WRAP_CONTENT</span><span style="color: #666666">));</span>
            Log<span style="color: #666666">.</span><span style="color: #7D9029">i</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Project: Add_Row&quot;</span><span style="color: #666666">,</span> <span style="color: #BA2121">&quot;Now adding a row&quot;</span><span style="color: #666666">);</span>

            EditText<span style="color: #666666">[]</span> etArray <span style="color: #666666">=</span> <span style="color: #666666">{</span>lb<span style="color: #666666">,</span>ub<span style="color: #666666">,</span>freq<span style="color: #666666">};</span>
            etList<span style="color: #666666">.</span><span style="color: #7D9029">add</span><span style="color: #666666">(</span>etArray<span style="color: #666666">);</span>
        <span style="color: #666666">}</span>
    <span style="color: #666666">}</span>

    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">export</span><span style="color: #666666">(</span>File folder<span style="color: #666666">)</span> <span style="color: #666666">{</span>
        StringBuilder csv <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> StringBuilder<span style="color: #666666">();</span>
        <span style="color: #008000; font-weight: bold">for</span> <span style="color: #666666">(</span>StatsClasses ele<span style="color: #666666">:</span> StatsClasses<span style="color: #666666">.</span><span style="color: #7D9029">classes</span><span style="color: #666666">)</span> <span style="color: #666666">{</span>
            String lb <span style="color: #666666">=</span> Float<span style="color: #666666">.</span><span style="color: #7D9029">toString</span><span style="color: #666666">(</span>ele<span style="color: #666666">.</span><span style="color: #7D9029">lowerbound</span><span style="color: #666666">);</span>
            String ub <span style="color: #666666">=</span> Float<span style="color: #666666">.</span><span style="color: #7D9029">toString</span><span style="color: #666666">(</span>ele<span style="color: #666666">.</span><span style="color: #7D9029">upperbound</span><span style="color: #666666">);</span>
            String freq <span style="color: #666666">=</span> Integer<span style="color: #666666">.</span><span style="color: #7D9029">toString</span><span style="color: #666666">(</span>ele<span style="color: #666666">.</span><span style="color: #7D9029">frequency</span><span style="color: #666666">);</span>
            String freqdens <span style="color: #666666">=</span> Float<span style="color: #666666">.</span><span style="color: #7D9029">toString</span><span style="color: #666666">(</span>ele<span style="color: #666666">.</span><span style="color: #7D9029">freqdensity</span><span style="color: #666666">);</span>
            csv<span style="color: #666666">.</span><span style="color: #7D9029">append</span><span style="color: #666666">(</span>lb<span style="color: #666666">);</span>
            csv<span style="color: #666666">.</span><span style="color: #7D9029">append</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;,&quot;</span><span style="color: #666666">);</span>
            csv<span style="color: #666666">.</span><span style="color: #7D9029">append</span><span style="color: #666666">(</span>ub<span style="color: #666666">);</span>
            csv<span style="color: #666666">.</span><span style="color: #7D9029">append</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;,&quot;</span><span style="color: #666666">);</span>
            csv<span style="color: #666666">.</span><span style="color: #7D9029">append</span><span style="color: #666666">(</span>freq<span style="color: #666666">);</span>
            csv<span style="color: #666666">.</span><span style="color: #7D9029">append</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;,&quot;</span><span style="color: #666666">);</span>
            csv<span style="color: #666666">.</span><span style="color: #7D9029">append</span><span style="color: #666666">(</span>freqdens<span style="color: #666666">);</span>
            csv<span style="color: #666666">.</span><span style="color: #7D9029">append</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;\n&quot;</span><span style="color: #666666">);</span>
        <span style="color: #666666">}</span>
        FileWriter file <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">;</span>
        <span style="color: #008000; font-weight: bold">try</span> <span style="color: #666666">{</span>
            file <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> FileWriter<span style="color: #666666">(</span><span style="color: #008000; font-weight: bold">new</span> File<span style="color: #666666">(</span>folder<span style="color: #666666">.</span><span style="color: #7D9029">toString</span><span style="color: #666666">()</span> <span style="color: #666666">+</span> File<span style="color: #666666">.</span><span style="color: #7D9029">separator</span> <span style="color: #666666">+</span> <span style="color: #BA2121">&quot;Table.csv&quot;</span><span style="color: #666666">));</span>
            file<span style="color: #666666">.</span><span style="color: #7D9029">append</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Lowerbound, Upperbound, Frequency, Frequency Density\n&quot;</span><span style="color: #666666">);</span>
            file<span style="color: #666666">.</span><span style="color: #7D9029">append</span><span style="color: #666666">(</span>csv<span style="color: #666666">.</span><span style="color: #7D9029">toString</span><span style="color: #666666">());</span>
        <span style="color: #666666">}</span> <span style="color: #008000; font-weight: bold">catch</span> <span style="color: #666666">(</span>Exception e<span style="color: #666666">)</span> <span style="color: #666666">{</span>
        <span style="color: #666666">}</span> <span style="color: #008000; font-weight: bold">finally</span> <span style="color: #666666">{</span>
            <span style="color: #008000; font-weight: bold">try</span> <span style="color: #666666">{</span>
                file<span style="color: #666666">.</span><span style="color: #7D9029">flush</span><span style="color: #666666">();</span>
                file<span style="color: #666666">.</span><span style="color: #7D9029">close</span><span style="color: #666666">();</span>
            <span style="color: #666666">}</span> <span style="color: #008000; font-weight: bold">catch</span> <span style="color: #666666">(</span>Exception e<span style="color: #666666">)</span> <span style="color: #666666">{}</span>
        <span style="color: #666666">}</span>
    <span style="color: #666666">}</span>
<span style="color: #666666">}</span>
</pre></div>
